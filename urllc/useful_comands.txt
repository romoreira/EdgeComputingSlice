#Installing basic packages:
sudo apt install clang llvm libelf-dev libpcap-dev gcc-multilib build-essential linux-tools-common linux-tools-generic

#Creating and Activating Test Environment:
./testenv.sh setup --name=test
eval $(./testenv.sh alias)

#Remove XDP program from interface:
sudo ip link set dev test xdp off

#Compile a XDP program:
sudo ./xdp_loader --dev test --force

#Whatch interface:
sudo ./xdp_stats -d test

#Ping from inside Network Namespace to Outtermost interface:
t exec -- ping 192.168.0.2

#Configuring IPv4 Interfaces:
t exec -- ifconfig veth0 192.168.0.1 netmask 255.255.255.0
sudo ifconfig test 192.168.0.2 netmask 255.255.255.0

#Watching logs while you trying the XDP program:
sudo cat /sys/kernel/debug/tracing/trace_pipe

#Testing IPv6:
t ping

#Testing IPv4
t exec -- ping 192.168.0.2

#Import Routes:
t exec -- ip -6 route
fc00:dead:cafe:1::/64  encap seg6 mode inline segs 4 [ 1001:: 2::d6 4::56 :: ] via fc00:dead:cafe:1::1 dev veth0 metric 1024 pref medium

t exec -- ip -6 route add 1001::/64 via fc00:dead:cafe:1::1 dev veth0

t exec -- ip -6 route del fc00:dead:cafe:1::/64 dev veth0 proto kernel metric 256 pref medium
